<h1><%= t '.title' %></h1>

<table class='table table-striped table-condensed table-bordered'>
  <thead>
    <tr>
      <th><%=t 'bookkeeper.models.movement.attributes.type' %></th>
      <th><%=t 'bookkeeper.models.movement.attributes.amount' %></th>
      <th><%=t 'bookkeeper.models.movement.attributes.description' %></th>
      <th><%=t 'bookkeeper.models.movement.attributes.date' %></th>
      <th><%=t 'bookkeeper.models.movement.attributes.updated_at' %></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @movements.each do |movement| %>
      <tr>
        <td><span class="label label-<%= movement.incoming? ? "success" : "warning" %>"><%= (movement.incoming? ? '<i class="icon-circle-arrow-down"></i> '+t(".incoming") : '<i class="icon-circle-arrow-down"></i> '+t(".outgoing")).html_safe %></span></td>
        <td><%= number_to_currency movement.amount %></td>
        <td><%= movement.description %></td>
        <td><%=l movement.date, format: :short rescue '' %></td>
        <td><%=l movement.updated_at, format: :short rescue '' %></td>
        <td>
          <% if movement.incoming? %>
            <%= link_to ('<i class="icon-pencil"></i> ' + t('bookkeeper.actions.edit')).html_safe, edit_incoming_path(movement), class: 'btn btn-mini' %>
          <% else %>
            <%= link_to ('<i class="icon-pencil"></i> ' + t('bookkeeper.actions.edit')).html_safe, edit_outgoing_path(movement), class: 'btn btn-mini' %>
          <% end %>
          <%= link_to ('<i class="icon-remove"></i> ' + t('bookkeeper.actions.destroy')).html_safe, movement, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-mini btn-danger' %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<br />

<%= link_to ('<i class="icon-circle-arrow-down"></i> ' + t('.new_incoming')).html_safe, new_incoming_path, class: 'btn btn-success' %>
<%= link_to ('<i class="icon-circle-arrow-up"></i> ' + t('.new_outgoing')).html_safe, new_outgoing_path, class: 'btn btn-warning' %>
